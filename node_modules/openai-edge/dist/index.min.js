!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t="undefined"!=typeof globalThis?globalThis:t||self)["openai-edge"]={})}(this,(function(t){"use strict";const i="https://api.openai.com/v1".replace(/\/+$/,"");class e{basePath;configuration;constructor(t,e=i){this.basePath=e,t&&(this.configuration=t,this.basePath=t.basePath||this.basePath)}}t.Configuration=class{apiKey;organization;username;password;accessToken;basePath;baseOptions;formDataCtor;constructor(t={}){this.apiKey=t.apiKey,this.organization=t.organization,this.username=t.username,this.password=t.password,this.accessToken=t.accessToken,this.basePath=t.basePath,this.baseOptions=t.baseOptions,this.formDataCtor=t.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization)}isJsonMime(t){const i=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==t&&(i.test(t)||"application/json-patch+json"===t.toLowerCase())}},t.OpenAIApi=class extends e{createChatCompletion(t){if(!this.configuration)throw new Error("Must provide a valid configuration to `OpenAIApi`");return fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{...this.configuration.baseOptions.headers,"Content-Type":"application/json"},body:JSON.stringify(t)})}createCompletion(t){if(!this.configuration)throw new Error("Must provide a valid configuration to `OpenAIApi`");return fetch("https://api.openai.com/v1/completions",{method:"POST",headers:{...this.configuration.baseOptions.headers,"Content-Type":"application/json"},body:JSON.stringify(t)})}createImage(t){if(!this.configuration)throw new Error("Must provide a valid configuration to `OpenAIApi`");return fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{...this.configuration.baseOptions.headers,"Content-Type":"application/json"},body:JSON.stringify(t)})}}}));
